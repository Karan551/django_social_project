# Model :-

- **A model is the single, definitive source of information about your data. It contains the essential fields and behaviors of the data you’re storing. Generally, each model maps to a single database table.**

- **Each model is a Python class that subclasses** `django.db.models.Model`. 
- **Each attribute of the model represents a database field.**
- **With all of this, Django gives us an automatically-generated database-access API.**
- **For Example:-** 👇
    ```python
    from django.db import models

    class Person(models.Model):
        first_name = models.CharField(max_length=30)
        last_name = models.CharField(max_length=30)
    ```

- `first_name` and `last_name` **are fields of the model. Each field is specified as a class attribute, and each attribute maps to a database column.**
- **Each `class` represent a table in a database.**
- **Each field represents to a database column.**
- An `id` **field is added automatically in a database and this will be primary key By default but we can overwrite this.**
- After Defining a model we have to tell django that we are going to use those models. 
- **To do that type the following in command in terminal,where your server is running**
    ```bash
    python3 manage.py makemigrations
    #  And after this type the following command
    python3 manage.py migrate
    ```
- `python3 manage.py makemigrations` 👉 **This command generates a file inside migrations folder in our app directory or folder.**
  - **For Example :-** 👉 `0001_initial.py`
  - **By Default `django` generate a query for our database.**
- `python3 manage.py migrate` 👉 **This command will apply our query in our database.**
- **Every time when we modify our `models.py` file or database we will have to run those commands so that we can apply our changes into our databases.**


- The above `Person` model would create a database table like this:-
```python
CREATE TABLE myapp_person (
    "id" bigint NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    "first_name" varchar(30) NOT NULL,
    "last_name" varchar(30) NOT NULL
);
```
- **Table name Syntax:-** 👉 `appName_className`
- **For Example :-** 👉 `myapp_person`
- **The name of the table**, `myapp_person`, is **automatically derived from some model metadata but can be overridden.**
------
## Fields :-
- **The most important part of a model – and the only required part of a model – is the list of database fields it defines. Fields are specified by class attributes.**
- **Be careful not to choose field names that conflict with the models API like `clean`, `save`, or `delete`.**
- **For Example:-** 👇
  ```python
    from django.db import models

    class Person(models.Model):
        first_name = models.CharField(max_length=30)
        last_name = models.CharField(max_length=30)
    ```

## Field Types :- 

- Each field in our model should be an instance of the appropriate Field class. Django uses the field class types to determine a few things:
  - **The column type, which tells the database what kind of data to store (e.g. INTEGER, VARCHAR, TEXT).**
  - **The default HTML widget to use when rendering a form field (e.g. `<input type="text">`, `<select>`).**
  - **The minimal validation requirements, used in Django’s admin and in automatically-generated forms.**

- **Some Important Fields are :-** 👇 
1. `CharField()` **:-** 👉&nbsp; **A string field, for small- to large-sized strings.**
     - **The default form widget for this field is a TextInput.**
     - **For large amounts of text,We should use TextField.**
     - **CharField has the following extra arguments:-**
         - `max_length` **:-** 👉&nbsp; Default value is `None`. This will apply **maximum characters** in a table. Like `VARCHAR` **in SQL.**

    - **Syntax :-** 👉 **`CharField(maxlength=None,**options)`**
  
2. `DateField()` **:-** 👉 This field is used to represent a Date in a Database.
    - This field has the following extra arguments:-
    - `auto_now` **:-** 👉 **This parameter is used to when every time the object is saved .**
      - **It is Useful for last modified timestamps.**
      - **Current Date is always used.** 
  
    - `auto_now_add` **:-** 👉 **This parameter is used to automatically set the field to now when the object is first created.**
      - **It is useful for Creation of timestamps.**
    - **Syntax :-** 👉 **`DateField(auto_now=False, auto_now_add=False, ,**options)`**
  
3. `DateTimeField()` **:-** 👉 **This field is similar to the `DateField` except it will also include time also.**
    - **Syntax :-** 👉 **`DateTimeField(auto_now=False, auto_now_add=False, ,**options)`**
  
4. `EmailField()` **:-** 👉  **A CharField that checks that the value is a valid email address using EmailValidator.**
    - **Syntax :-** 👉 `EmailField(max_length=254,**options)`

5. `SlugField()` **:-** 👉 **A slug is a short label for something, containing only letters, numbers, underscores or hyphens. They’re generally used in URLs.** Like a CharField We can specify `max_length` if `max_length` is not specified django will use default `max_length` of **50**.
    - **Syntax :-** 👉 `SlugField(max_length=50,**options)`
6. `TextField()` **:-** 👉 A large text field. The **default form widget** for this field is a **Textarea**.
    - If we specify a `max_length` attribute, it will be reflected in the `Textarea` widget of the auto-generated form field.
    - **Syntax :-** 👉 `TextField(**options)`
7. `URLField()` **:-** 👉 **A CharField for a URL, validated by URLValidator.**
    - The default form widget for this field is a URLInput.
    - Like a `CharField` subclasses, `URLField` takes the optional `max_length` argument. If we don’t specify `max_length`, a **default** of **200** is used.
    - **Syntax :-** 👉 `URLField(max_length=200,**options)`

8. `FileField()` **:-** 👉 **A file-upload field.This field has the following optional arguments :-**
    - `upload_to` **:-** 👉 **This attribute provides a way of setting the upload directory and file name.** 
      - **If you are using the default `FileSystemStorage`, the string value will be appended to your `MEDIA_ROOT` path to form the location on the local filesystem where uploaded files will be stored.**
    
    - Using a `FileField` or an `ImageField` we will have to take few steps more :-
      -  In your `settings.py` file, We’ll need to Define `MEDIA_ROOT` as the **full path** to a **directory where you’d like Django to store uploaded files.** **(For performance, these files are not stored in the database.)** 
      -  Define `MEDIA_URL` as the base public URL of that directory. Make sure that this directory is writable by the web server’s user account.
      -  **Add the `FileField` or `ImageField` to your model, defining the upload_to option to specify a subdirectory of `MEDIA_ROOT` to use for uploaded files.**
      -  **All that will be stored in your database is a path to the file (relative to `MEDIA_ROOT`). You’ll most likely want to use the convenience `url` attribute provided by Django.**
  

     - `MEDIA_ROOT` **:-** 👉 **This will abosolute file system path to the directory that will hold `user_uploaded` files.** It's **Default value** is **empty string `' '`** .
     - `MEDIA_URL` **:-** 👉 **URL that handles the media served from `MEDIA_ROOT`, used for managing stored files. It must end in a slash.** It's **Default value** is **empty string `' '`** .
      
      #### ⭐ &nbsp;Serving files uploaded by a user during development :-
     - **Open Your `settings.py` file and write the Following code :-**
     <p align="center"> <strong> 1st method :- </strong> </p>

     - **Path** 👉 **tweetProject/settings.py** 👇
        ```python
        # This will add in your settings.py file 
        MEDIA_ROOT = BASE_DIR/"media/"

        MEDIA_URL = "/media/"     
        ``` 
      <p align="center"> <strong> 2nd method :- </strong> </p>

      - **Path** 👉 **social_project/settings.py** 👇
  
        ```python
        import os

        # This will add in your settings.py file 
        MEDIA_ROOT = os.path.join(BASE_DIR,"media")

        MEDIA_URL = "/media/"     
        ```
     - **Next Step open your `urls.py` file that is located in your project folder.** And write the following code :-
     - **Path** 👉 **social_project/urls.py** 👇
        ```python
        from django.conf import settings
        from django.conf.urls.static import static

        if settings.DEBUG:
          urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)

        ``` 
      - **It used only during development not in production.**

9.  `ImageField()` **:-** 👉 


-----
## Field Options :-

- **Each field takes a certain set of field-specific arguments.**
  - **For example, CharField (and its subclasses) require a `max_length` argument which specifies the size of the `VARCHAR` database field used to store the data.** 
- **Some Important Field Options are :-**
  1. `null` **:-** 👉 &nbsp; **If `True`, Django will store empty values as `NULL` in the database. Default is `False`.** <br/>
       - Avoid using null on string-based fields such as `CharField` and `TextField`. If a string-based field has `null=True`, that means it has two possible values for **“no data”: NULL, and the empty string**. In most cases, it’s redundant to have two possible values for “no data;” the Django convention is to use the empty string, not NULL. One exception is when a CharField has both unique=True and blank=True set. In this situation, null=True is required to avoid unique constraint violations when saving multiple objects with blank values.
        > __Note:-__   This is different than `null`. `null` is purely database-related, whereas blank is validation-related. If a field has blank=True, form validation will allow entry of an empty value. If a field has blank=False, the field will be required.
  2. `blank` **:-** 👉 **If True, the field is allowed to be blank. Default is False.**
  3. `default` **:-** 👉 **The default value for the field. This can be a value or a callable object. If callable it will be called every time a new object is created.**
  4. `help_text` **:-** 👉 **Extra “help” text to be displayed with the form widget. It’s useful for documentation even if your field isn’t used on a form.**
  5. `primary key` **:-** 👉**If True, this field is the primary key for the model.**
     - If you don’t specify `primary_key=True` for any fields in your model, Django will automatically add an IntegerField to hold the primary key, so you don’t need to set `primary_key=True` on any of your fields unless you want to override the default primary-key behavior. 
     - **The primary key field is read-only.** If you change the value of the primary key on an existing object and then save it, a new object will be created alongside the old one.
     - [Click Here](https://docs.djangoproject.com/en/5.0/ref/models/fields/#primary-key) For More Information about Primary Key.
      
  6. `unique` **:-** 👉 **If True, this field must be unique throughout the table.**


### Automatic primary key fields:-

- **By default, Django gives each model an auto-incrementing primary key with the type specified per app in `AppConfig.default_auto_field` or globally in the `DEFAULT_AUTO_FIELD` setting.** 
- **If we’d like to specify a custom primary key, specify `primary_key=True` on one of your fields. If Django sees you’ve explicitly set `Field.primary_key`, it won’t add the automatic id column.**

- **Each model requires exactly one field to have `primary_key=True` (either explicitly declared or automatically added).**


- [Click Here](https://docs.djangoproject.com/en/5.0/ref/models/fields/#common-model-field-options) For More Information About Field Options.

----- 
## Model Meta Options :-

1. `verbose_name` **:-** 👉 **A human-readable name for the object, singular**
   - **For Example :-** 👇
   ```python
   class Meta:
      verbose_name = "pizza"
   ``` 
   - **If this isn’t given, Django will use a munged version of the class name: CamelCase becomes camel case.** 
2. `verbose_name_plural` **:-** 👉 The plural name for the object.
    - **For Example :-** 👇
      ```python
      class Meta:
          verbose_name_plural = "Catgories"
      ```
    -  **If this isn’t given, Django will use verbose_name + "s".**

3. `ordering` **:-** 👉 The default ordering for the object,  when obtained lists of objects.
    - This is a tuple or list of strings and/or query expressions. **Each string is a field name with an optional “-” prefix, which indicates descending order. Fields without a leading `“-”` will be ordered *ascending*. Use the string `“?”` to order randomly.**
    - **For example, to order by a pub_date field ascending, use this:**
      ```python
      ordering = ["pub_date"]
      ``` 
    - **To order by pub_date descending, use this:**
      ```python
      ordering = ["-pub_date"]
      ``` 
    - **To order by pub_date descending, then by author ascending, use this:**
      ```python
      ordering = ["-pub_date", "author"]
      ```
4. `get_latest_by` **:-** 👉 **The name of a field or a list of field names in the model.**
    - **For Example :-** 👇
        ```python
        # Latest by ascending order_date.
        get_latest_by = "order_date"

        # Latest by priority descending, order_date ascending.
        get_latest_by = ["-priority", "order_date"]
        ```



    
- [Click Here](https://docs.djangoproject.com/en/5.0/ref/models/options/#django.db.models.Options.verbose_name_plural) For More Information about Meta options.
-----
- [Click Here](https://docs.djangoproject.com/en/5.0/topics/db/models/#) For More Information about models.
-----
